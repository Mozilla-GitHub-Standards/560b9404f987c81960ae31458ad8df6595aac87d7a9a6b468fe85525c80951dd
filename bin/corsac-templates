#!/usr/bin/env node


var v = require('valentine');
var GitHubApi = require('github');
var github = new GitHubApi({
    version: "3.0.0",
    protocol: "https",
    timeout: 5000
});

var corsac = require('../');
var program = corsac.program();

program
    .command('templates')
    .description('List available templates')
    .action(function(){

        corsac.info("Listing available templates...");

        github.search.repos({keyword: "corsac-template"}, function(err, data) {
            v(data.repositories).each(function(repo) {
                corsac.info(repo.name + ": " + repo.description);
            });

            process.exit();
        });
    });